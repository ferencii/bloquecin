*   **Configuración y Seguridad**:
    *   **Soporte para Múltiples API Keys y Fallback de Modelos**: Se modificó `js/config.js` para permitir un array de `apiKeys`. La función `generateDescriptions` ahora itera a través de estas claves y, para cada una, prueba los modelos en un orden de preferencia (`gemini-2.5-pro`, `gemini-2.5-flash`, `gemini-2.5-flash-lite`), conmutando automáticamente si se alcanza una cuota.
    *   **Corrección de Error de Sintaxis y Fallback de API Keys**: Se resolvió un `Uncaught SyntaxError: Unexpected token 'finally'` en `js/utils.js` moviendo el bloque `finally` para que envolviera toda la función `generateDescriptions`. Además, se implementó la lógica de fallback para las API keys y los modelos de IA, permitiendo que la aplicación intente con múltiples configuraciones hasta encontrar una exitosa.
*   **Depuración y Robustez**:
    *   **Corrección de Errores de Sintaxis**: Se resolvieron `Uncaught SyntaxError: Identifier 'setupDynamicSection' has already been declared` y `Uncaught SyntaxError: Identifier 'generateMobilesSection' has already been declared` eliminando declaraciones de importación y funciones duplicadas en `js/mobiles.js`.
    *   **Resolución de Problema de Primer Clic**: Se corrigió el problema donde el botón "Añadir Mob" no funcionaba en el primer clic, refactorizando la forma en que se adjuntan los `event listeners` a las tarjetas de mob a través de un `postAddCallback` en `setupDynamicSection` en `js/utils.js`.
    *   **Depuración Adicional de Asignación de Campos**: Se añadieron logs `DEBUG Mob:` y comprobaciones de nulidad para los elementos de entrada en `handleMobAiGeneration` para diagnosticar por qué los campos no se rellenaban.
*   **Mejoras en la Sección Mobiles**:
    *   **Adición de Tipos de Daño**: Se añadió una nueva lista `damageTypes` al archivo `js/config.js` para definir los tipos de daño de los mobs, incluyendo su valor en inglés y su descripción en español.
    *   **Integración de Tipos de Daño en la UI**: Se modificó `index.html` para cambiar el campo 'Tipo de Daño' de un `input` de texto a un `select` en la plantilla del mob. Posteriormente, se actualizó `js/utils.js` para poblar dinámicamente este `select` con las opciones de `gameData.damageTypes`, permitiendo la selección de tipos de daño predefinidos y estableciendo 'none' como opción por defecto.
    *   **Auto-rellenado de Hitroll**: Se implementó la funcionalidad de auto-rellenado para el campo '+Hitroll' de los mobs. Se añadió una tabla de recomendaciones (`hitrollRecommendations`) a `js/config.js` y se desarrolló la lógica en `js/mobiles.js` para calcular el hitroll sugerido basándose en el nivel del mob, utilizando interpolación lineal para los rangos.
    *   **Auto-rellenado de HP, Mana, Armaduras y Daño**: Se añadió una tabla de recomendaciones (`mobStatsRecommendations`) a `js/config.js` para los valores de HP, Mana, Armaduras y Daño por nivel. Se modificó `js/mobiles.js` para auto-rellenar estos campos basándose en el nivel del mob. El cálculo de Mana se ajustó para seguir la fórmula `1d10 + 100 * Nivel`, y la Armadura Mágica se calcula con la fórmula `((ac - 10) / 3) + 10`.